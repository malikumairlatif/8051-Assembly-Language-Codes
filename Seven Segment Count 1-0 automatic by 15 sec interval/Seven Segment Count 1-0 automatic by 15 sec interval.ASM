;====================================================================
; Main.asm file generated by New Project wizard
;
; Project:	 Seven Segment Count 1-0 automatic by 15 sec interval
; Created:   Fri May 20 2022
; Processor: AT89C51
; Compiler:  ASEM-51 (Proteus)
; Code by:	ElektroSoft Solutions (SMC-Pvt) Ltd
; Website:	www.essol.com.pk
; Contact:	+92-302-8888-920 (WhatsApp/Call)
; Hardware used: 8051 mini Development Board v1.0 (made by ElektroSoft Solutions)
;====================================================================		
; RESET and INTERRUPT VECTORS
;====================================================================

      ; Reset Vector
      org   0000h
      jmp   Start

;====================================================================
; CODE SEGMENT
;====================================================================
Start:		
		ORG 0100H
		
		MOV P0, #00H
		MOV P1, #00H
		MOV P2, #00H
		MOV P3, #00H
		
		MOV P2, #0FCH		; assigning default value of ZERO by hex value upon initializing
REPEAT:
		MOV DPTR, #COUNT 	; Data Pointer register assigned address
LOOP:	CLR A				; execute the code if INCREMENT button is pressed
		MOVC A, @A+DPTR		; Copy value from current DPTR address to Accumulator
		MOV P2, A			; send data to port 2
		INC DPTR			; increment DPTR address
		CALL delay15
		CJNE A, #0FCH, LOOP
		SJMP REPEAT
		
delay15:					; 15 second delay routine
	    mov r5, #100
here4:	mov r4, #255
here5:	mov r3, #255
here6:	djnz r3, here6
		djnz r4, here5
		djnz r5, here4
		ret
		
		ORG 500H
		
COUNT:	DB	60H, 0DAH, 0F2H, 66H, 0B6H, 0BEH, 0E0H, 0FEH, 0E6H, 0FCH, 0

; Hex values for 1 - 0 decimal values
;
; A | B | C | D | E | F | G | H | = Decimal Value = Hex Value
;
; 0 | 1 | 1 | 0 | 0 | 0 | 0 | 0 | =  1  = 60H
;---------------------------------------------
; 1 | 1 | 0 | 1 | 1 | 0 | 1 | 0 | =  2  = 0DAH
;---------------------------------------------
; 1 | 1 | 1 | 1 | 0 | 0 | 1 | 0 | =  3  = 0F2H
;---------------------------------------------
; 0 | 1 | 1 | 0 | 0 | 1 | 1 | 0 | =  4  = 66H
;---------------------------------------------
; 1 | 0 | 1 | 1 | 0 | 1 | 1 | 0 | =  5  = 0B6H
;---------------------------------------------
; 1 | 0 | 1 | 1 | 1 | 1 | 1 | 0 | =  6  = 0BEH
;---------------------------------------------
; 1 | 1 | 1 | 0 | 0 | 0 | 0 | 0 | =  7  = 0E0H
;---------------------------------------------
; 1 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | =  8  = 0FEH
;---------------------------------------------
; 1 | 1 | 1 | 0 | 0 | 1 | 1 | 0 | =  9  = 0E6H
;---------------------------------------------
; 1 | 1 | 1 | 1 | 1 | 1 | 0 | 0 | =  0  = 0FCH
;---------------------------------------------